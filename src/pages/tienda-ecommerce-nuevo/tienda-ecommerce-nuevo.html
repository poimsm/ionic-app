<ion-header no-border>
  <ion-navbar color="white">
    <ion-title>Nuevo producto</ion-title>
    <ion-buttons right>
      <button (click)="save()" ion-button [disabled]="!(imagenes.length>0 && categoria?.length>0 && titulo?.length>0 && descripcion?.length>0 && costoEnvio && valorProducto)"
        outline mode="ios">
        Crear
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>

  <hr>
  <div padding style="width:100%;display:flex;justify-content:center;flex-wrap:wrap">
    <div (click)="seleccionar_foto()" style="margin:10px;width:80px;height:80px;border:1px dashed #eee;display:flex;justify-content:center;align-items:center">
      <ion-icon name="md-camera" style="font-size:32px;color:#999"></ion-icon>
    </div>
    <div *ngFor="let imagen of imagenes">
      <div style="margin:10px;min-height:80px;width:80px;background-size:cover;background-repeat: no-repeat;background-position: center;"
        [ngStyle]="{'background-image': 'url(' + imagen + ')' }">
      </div>
    </div>
  </div>


  <ion-item>
    <ion-input [(ngModel)]="titulo" type="text" placeholder="Título"></ion-input>
  </ion-item>
  <ion-item no-lines>
    <ion-textarea style="border:0px solid #bbb" rows="3" [(ngModel)]="descripcion" placeholder="Descripción"></ion-textarea>
  </ion-item>



  <ion-item no-lines style="color:#999;background:rgb(243, 243, 243);font-size:16px;font-weight:500">
    Detalles
  </ion-item>
  <button ion-item no-lines (click)="openSelect('categoria')">
    <ion-label>
      Seleccionar categoría
      <div style="color:green">
        {{categoria}}
      </div>
    </ion-label>
    <ion-icon item-end name="ios-arrow-forward" style="color:#bbb;font-size:18px"></ion-icon>
    <ion-select [(ngModel)]="categoria" style="display:none" #categoriaRef>
      <ion-option value="Aretes - piercings">Aretes - piercings</ion-option>
      <ion-option value="Aros - pulseras - collares">Aros - pulseras - collares</ion-option>
      <ion-option value="Relojes">Relojes</ion-option>
      <!-- <ion-option value="Pizza">Relojes - hombre</ion-option> -->
      <!-- <ion-option value="Sushi & hand rolls">Pantalones - mujer</ion-option>
      <ion-option value="Sushi & hand rolls">Pantalones - hombre</ion-option>
      <ion-option value="Sushi & hand rolls">Blusas - chalecos - abrigos</ion-option> -->
      <ion-option value="Arreglos - decoraciones">Arreglos - decoraciones</ion-option>
      <ion-option value="Regalos de San Valentín">Regalos de San Valentín</ion-option>
      <ion-option value="Bodas">Bodas</ion-option>
      <ion-option value="Carton y papel - DIY">Carton y papel - DIY</ion-option>
      <ion-option value="Envoltorios - invitaciones">Envoltorios - invitaciones</ion-option>
      <!-- <ion-option value="Sushi & hand rolls">Fiestas - bodas - ropa</ion-option> -->
      <!-- <ion-option value="Carnes">Zapatos</ion-option>
      <ion-option value="Sandwich">Bebes y niños</ion-option>
      <ion-option value="Pichangas">Tecnología</ion-option>
      <ion-option value="Almuerzos">Belleza y maquillaje</ion-option>
      <ion-option value="Otros">Deporte y pasatiempos</ion-option> -->
    </ion-select>
  </button>



  <ion-item no-lines style="margin-top:10px;color:#999;background:rgb(243, 243, 243);font-size:16px;font-weight:500">
    <ion-label>Variaciones</ion-label>
    <ion-toggle [(ngModel)]="isVariacion" mode="ios"></ion-toggle>
  </ion-item>

  <button *ngIf="isVariacion" ion-item no-lines (click)="openSelect('variacion')">
    <ion-label>
      Agregar una variación
      <div style="color:green">
        {{variacion}}
      </div>
    </ion-label>
    <ion-icon item-end name="ios-arrow-forward" style="color:#bbb;font-size:18px"></ion-icon>
    <ion-select (ionChange)="onVaracionChange($event)" [(ngModel)]="variacion" style="display:none" #variacionRef>
      <ion-option value="Color">Color</ion-option>
      <ion-option value="Sabor">Sabor</ion-option>
      <ion-option value="Talla">Talla</ion-option>
      <ion-option value="Material">Material</ion-option>
    </ion-select>
  </button>

  <div *ngIf="isVariacion  && variaciones.length > 0">
    <div *ngFor="let variacion of variaciones;let i = index">
      <div style="display:flex;justify-content:space-between">
        <div style="margin-left:15px;padding:3px;font-size:18px;color:green">
          &#9679; {{variacion}}
        </div>
        <ion-icon (click)="remove(i, 'variacion')" name="trash" style="color:#bbb;font-size:24px;margin-right:15px"></ion-icon>
      </div>
    </div>
  </div>

  <div *ngIf="isVariacion  && variacion" style="padding:10px;width:100%;display:flex;justify-content:center">
    <div style="border-radius:3px;width:80%;border:1px solid #eee;display:flex">
      <ion-input [(ngModel)]="variacionItem" type="text" [placeholder]="EjVariacion" style="font-size:16px;border:0x solid white"></ion-input>
      <button (click)="add(variacionItem, 'variacion')" ion-button icon-only clear>
        <ion-icon name="md-add-circle" style="color:#ccc;font-size:28px"></ion-icon>
      </button>
    </div>
  </div>


  <ion-item no-lines style="margin-top:10px;color:#999;background:rgb(243, 243, 243);font-size:16px;font-weight:500">
    Precio
  </ion-item>

  <div style="margin-top:10px;margin-left:15px;font-size:13px;color:#666;font-weight:400">
    VALOR DEL PRODUCTO
  </div>
  <div style="padding:10px;width:100%;display:flex;justify-content:center">
    <div style="border-radius:3px;width:40%;border:1px solid #eee;display:flex;align-items:center">
      <div style="font-size:16px;font-weight:500;color:#999;padding:5px;border-right:1px solid #eee">
        $
      </div>
      <ion-input [(ngModel)]="valorProducto" type="tel" placeholder="" style="font-size:16px;border:0x solid white"></ion-input>
    </div>
  </div>

  <div style="margin-top:10px;margin-left:15px;font-size:13px;color:#666;font-weight:400">
    COSTO DE ENVÍO
  </div>
  <div style="padding:10px;width:100%;display:flex;justify-content:center">
    <div style="border-radius:3px;width:40%;border:1px solid #eee;display:flex;align-items:center">
      <div style="font-size:16px;font-weight:500;color:#999;padding:5px;border-right:1px solid #eee">
        $
      </div>
      <ion-input [(ngModel)]="costoEnvio" type="tel" placeholder="" style="font-size:16px;border:0x solid white"></ion-input>
    </div>
  </div>

  <div style="height:30px"></div>

</ion-content>