<ion-header>

  <ion-navbar color="white">
    <ion-title>Calendario</ion-title>
    <ion-buttons right>
      <button (click)="openModalConfig()" ion-button icon-only mode="ios">
        <ion-icon name="ios-settings" style="color:#bbb"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>


  <div style="background:white">
    <!-- <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
        <div style="padding:8px;padding-left:15px;color:#444;font-size:16px;font-weight:600">
          Calendario
        </div>
        <div style="padding:4px;margin-right:15px;color:#ff6633;font-weight:500;font-size:12px">
          VER M√ÅS
        </div>
      </div> -->
    <div style="padding:3px;padding-bottom:0px;padding-left:20px;display:flex;align-items:center;flex-wrap:wrap">

      <div style="margin-bottom:5px;margin-right:10px;display:flex;align-items:center">
        <div style="border-radius:3px;height:20px;width:20px;background:white;border:1px solid #bbb;margin-right:5px">
        </div>
        <div style="color:#777">
          No asignada
        </div>
      </div>


      <!-- <div style="margin-right:10px;display:flex;align-items:center">
          <div style="border-radius:3px;height:20px;width:20px;background:whitesmoke;margin-right:5px"></div>
          <div style="color:#777">
            Bloqueado
          </div>    
      </div> -->

      <div style="margin-bottom:5px;margin-right:10px;display:flex;align-items:center">
        <div style="border-radius:3px;height:20px;width:20px;background:gold;margin-right:5px"></div>
        <div style="color:#777">
          Disponible para reservar
        </div>
      </div>

      <div style="margin-bottom:5px;margin-right:10px;display:flex;align-items:center">
        <div style="border-radius:3px;height:20px;width:20px;background:salmon;margin-right:5px"></div>
        <div style="color:#777">
          Hora agendada
        </div>
      </div>




    </div>
    <ion-scroll scrollX="true" style="display:flex;height:70px;margin-left:10px">
      <ion-grid>
        <ion-row nowrap>
          <ion-col *ngFor="let dia of dias;let i = index" col-3>

            <div (click)="activarDia(i)" [ngStyle]="{'background': dia.isActive ? 'darkorange' : 'white'}"
              style="width:100%;height:50px;display:flex;align-items:center;justify-content:center">
              <div [ngStyle]="{'color': dia.isActive ? 'white' : '#777'}" style="font-size:20px;">
                {{dia.dia.nombre | slice:0:3}}
                <div style="font-size:16px;width:100%;text-align:center">
                  <ion-icon *ngIf="dia.isActive && !dia.isActual" name="md-lock" style="color:#fff;font-size:16px">
                  </ion-icon>
                  <ion-icon *ngIf="!dia.isActive && !dia.isActual" name="md-lock" style="color:#bbb;font-size:16px">
                  </ion-icon>
                  {{dia.dia.numero}}
                </div>
              </div>
            </div>

          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-scroll>
  </div>

</ion-header>





<ion-content>

  <div *ngFor="let dia of dias; let i = index">

    <div *ngIf="dia.isActive">

      <div *ngFor="let hora of dia.horas; let j = index">

        <div (click)="activarHora(i, j, dia.isActual)" style="width:100%;">
          <div style="margin-left:20px">

            <div *ngIf="dia.isActual && j != 0" [ngStyle]="{'background': hora.isActive ? 'gold':'white'}"
              style="height:55px;width:100%;margin-left:45px">
            </div>
            <div *ngIf="!dia.isActual && j != 0"
              style="background:rgb(250, 250, 250);height:55px;width:100%;margin-left:45px">
            </div>
            <div *ngIf="j == 0" style="background:white;height:55px;width:100%;margin-left:45px">
            </div>

            <div style="width:100%;display:flex;align-items:center;justify-content:flex-start">
              <div style="font-size:14px;color:#555">
                {{hora.hora}}
              </div>

              <div style="flex:1 1 auto;">
                <div *ngIf="dia.isActual" [ngStyle]="{'background': hora.isActive ? 'gold':'white'}"
                  style="margin-left:10px;height:17px;width:100%;border-bottom:2px solid #eee">
                </div>
                <div *ngIf="!dia.isActual && j != 0"
                  style="background:rgb(250, 250, 250);margin-left:10px;height:17px;width:100%;border-bottom:2px solid #eee">
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

    </div>

  </div>






</ion-content>


<!-- <ion-content>


  <div *ngFor="let hora of _semana.horas; let i = index">

    <div (click)="_semana.addHora(i, _semana.esDiaPasado)" style="width:100%;">
      <div style="margin-left:20px">

        <div *ngIf="!_semana.esDiaPasado && i != 0" [ngStyle]="{'background': hora.isActive ? 'gold':'white'}"
          style="height:55px;width:100%;margin-left:45px">
        </div>
        <div *ngIf="_semana.esDiaPasado && i != 0"
          style="background:rgb(250, 250, 250);height:55px;width:100%;margin-left:45px">
        </div>
        <div *ngIf="i == 0" style="background:white;height:55px;width:100%;margin-left:45px">
        </div>

        <div style="width:100%;display:flex;align-items:center;justify-content:flex-start">
          <div style="font-size:14px;color:#555">
            {{hora.text}}
          </div>
          
          <div style="flex:1 1 auto;">
            <div *ngIf="!_semana.esDiaPasado" [ngStyle]="{'background': hora.isActive ? 'gold':'white'}"
              style="margin-left:10px;height:17px;width:100%;border-bottom:2px solid #eee">
            </div>
            <div *ngIf="_semana.esDiaPasado && i != 0"
              style="background:rgb(250, 250, 250);margin-left:10px;height:17px;width:100%;border-bottom:2px solid #eee">
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>




</ion-content> -->